{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Sid": "BuildApp",
      "Effect": "Allow",
      "Action": "iam:ListPolicies",
      "Resource": "*"
    },
    {
      "Sid": "PackageS3",
      "Effect": "Allow",
      "Action": [
        "s3:GetObject",
        "s3:ListBucket",
        "s3:GetBucketLocation",
        "s3:GetObjectVersion",
        "s3:PutObject",
        "s3:PutObjectAcl",
        "s3:GetLifecycleConfiguration",
        "s3:PutLifecycleConfiguration",
        "s3:DeleteObject",
        "s3:GetObjectTagging",
        "s3:PutObjectTagging",
        "s3:DeleteObjectTagging"
      ],
      "Resource": [
        "arn:aws:s3:::dls-local-local-bldrimp/sam-bldrimp",
        "arn:aws:s3:::dls-local-local-bldrimp/sam-bldrimp/*"
      ]
    },
    {
      "Sid": "DeployCloudformation",
      "Effect": "Allow",
      "Action": "cloudformation:*",
      "Resource": [
        "arn:aws:cloudformation:*:*:stack/dls-local-local-bldrimp*",
        "arn:aws:cloudformation:*:*:stack/dls-local-local-bldrimp*/*",
        "arn:aws:cloudformation:*:*:stackset/dls-local-local-bldrimp*:*"
      ]
    },
    {
      "Sid": "ChangeSets",
      "Effect": "Allow",
      "Action": [
        "cloudformation:CreateChangeSet",
        "events:*"
      ],
      "Resource": "*"
    },
    {
      "Sid": "DeployIAMs",
      "Effect": "Allow",
      "Action": [
        "iam:CreatePolicy",
        "iam:CreateRole"
      ],
      "Resource": "*"
    },
    {
      "Sid": "DeployIAMsLambda",
      "Effect": "Allow",
      "Action": [
        "iam:*"
      ],
      "Resource": [
        "arn:aws:iam::*:role/dls-local-local-bldrimp*",
        "arn:aws:iam::*:policy/dls-local-local-bldrimp*"
      ]
    },
    {
      "Sid": "LambdaPermissions",
      "Effect": "Allow",
      "Action": "lambda:*",
      "Resource": [
        "arn:aws:lambda:*:*:function:dls-local-local-bldrimp*"
      ]
    },
    {
      "Sid": "LambdaEventSourcePermissions",
      "Effect": "Allow",
      "Action": [
        "lambda:DeleteEventSourceMapping",
        "lambda:UpdateEventSourceMapping",
        "lambda:CreateEventSourceMapping",
        "lambda:GetEventSourceMapping",
        "lambda:ListEventSourceMappings"
      ],
      "Resource": "*"
    },
    {
      "Sid": "AppBucket",
      "Effect": "Allow",
      "Action": [
        "s3:*"
      ],
      "Resource": [
        "arn:aws:s3:::dls-local-local-bldrimp*",
        "arn:aws:s3:::dls-local-local-bldrimp*/*"
      ]
    },
    {
      "Sid": "SQSAllow",
      "Effect": "Allow",
      "Action": [
        "sqs:*"
      ],
      "Resource": [
        "arn:aws:sqs:*:*:dls-local-local-bldrimp*"
      ]
    }
  ]
}